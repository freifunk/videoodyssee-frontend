{"version":3,"file":"static/js/371.877ac164.chunk.js","mappings":"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","sources":["content/applications/Form/index.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst initialValues = {\n  title: \"\",\n  subtitle: \"\",\n  persons: [],\n  tags: [],\n  conference: \"\",\n  language: \"eng\",\n  date: new Date().toISOString().split('T')[0],\n  url: \"\",\n  name: \"\",\n  email: \"\",\n  link: \"\",\n  description: \"\"\n};\n\nconst Form = () => {\n  const [values, setValues] = useState(initialValues);\n  const [err, setErr] = useState({ err: false, message: '' });\n  const [success, setSuccess] = useState({ success: false, message: '' });\n  const [conferences, setConferences] = useState([]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      let res = await fetch(`${process.env.REACT_APP_API_URL}/video/`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        method: \"POST\",\n        body: JSON.stringify(values),\n      });\n      let resJson = await res.json();\n      console.log(resJson);\n      if (res.status === 200) {\n        setSuccess({ success: true, message: resJson.data });\n        setTimeout(() => setSuccess({ success: false, message: '' }), 5000);\n      } else {\n        setErr({ err: true, message: resJson.message });\n        setTimeout(() => setErr({ err: false, message: '' }), 5000);\n      }\n    } catch (err) {\n      console.log(err);\n      setErr({ err: true, message: 'Ein Fehler ist aufgetreten.' });\n      setTimeout(() => setErr({ err: false, message: '' }), 5000);\n    }\n  };\n\n  useEffect(() => {\n    const getConferences = async () => {\n      try {\n        let res = await fetch(`${process.env.REACT_APP_VOCTOWEB_API_URL}/public/conferences`, {\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n          }\n        });\n        let resJson = await res.json();\n        setConferences(resJson.conferences || []);\n        if (resJson.conferences && resJson.conferences.length > 0) {\n          setValues(prevValues => ({ \n            ...prevValues, \n            conference: resJson.conferences[0].acronym \n          }));\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getConferences();\n  }, []);\n\n  return (\n    <div className=\"form-container\">\n      <img src=\"/static/images/logo/logo-small.png\" alt='Freifunk logo' className=\"logo\" />\n      <h2 className=\"form-title\">Video Upload</h2>\n      \n      {success.success && (\n        <div className=\"alert alert-success\">\n          {success.message}\n        </div>\n      )}\n      \n      {err.err && (\n        <div className=\"alert alert-error\">\n          {err.message}\n        </div>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"title\">Title</label>\n          <input\n            className=\"form-input\"\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            value={values.title}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"subtitle\">Subtitle</label>\n          <input\n            className=\"form-input\"\n            type=\"text\"\n            id=\"subtitle\"\n            name=\"subtitle\"\n            value={values.subtitle}\n            onChange={handleInputChange}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"persons\">Persons</label>\n          <div className=\"tag-input-container\">\n            <div className=\"tags\">\n              {values.persons.map((person, index) => (\n                <span key={index} className=\"tag\">\n                  {person}\n                  <button\n                    type=\"button\"\n                    className=\"tag-remove\"\n                    onClick={() => {\n                      const newPersons = values.persons.filter((_, i) => i !== index);\n                      setValues({ ...values, persons: newPersons });\n                    }}\n                  >\n                    ×\n                  </button>\n                </span>\n              ))}\n            </div>\n            <input\n              className=\"tag-input\"\n              type=\"text\"\n              placeholder=\"Add person and press Enter\"\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  const value = e.target.value.trim();\n                  if (value && !values.persons.includes(value)) {\n                    setValues({\n                      ...values,\n                      persons: [...values.persons, value]\n                    });\n                    e.target.value = '';\n                  }\n                }\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"tags\">Tags</label>\n          <div className=\"tag-input-container\">\n            <div className=\"tags\">\n              {values.tags.map((tag, index) => (\n                <span key={index} className=\"tag\">\n                  {tag}\n                  <button\n                    type=\"button\"\n                    className=\"tag-remove\"\n                    onClick={() => {\n                      const newTags = values.tags.filter((_, i) => i !== index);\n                      setValues({ ...values, tags: newTags });\n                    }}\n                  >\n                    ×\n                  </button>\n                </span>\n              ))}\n            </div>\n            <input\n              className=\"tag-input\"\n              type=\"text\"\n              placeholder=\"Add tag and press Enter\"\n              onKeyDown={(e) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  const value = e.target.value.trim();\n                  if (value && !values.tags.includes(value)) {\n                    setValues({\n                      ...values,\n                      tags: [...values.tags, value]\n                    });\n                    e.target.value = '';\n                  }\n                }\n              }}\n            />\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"conference\">Conference</label>\n          <select\n            className=\"form-select\"\n            id=\"conference\"\n            name=\"conference\"\n            value={values.conference}\n            onChange={handleInputChange}\n          >\n            {conferences.map(({ acronym, title }) => (\n              <option key={acronym} value={acronym}>{title}</option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"language\">Language</label>\n          <select\n            className=\"form-select\"\n            id=\"language\"\n            name=\"language\"\n            value={values.language}\n            onChange={handleInputChange}\n          >\n            <option value=\"eng\">English</option>\n            <option value=\"deu\">German</option>\n            <option value=\"rus\">Russian</option>\n            <option value=\"fra\">French</option>\n            <option value=\"spa\">Spanish</option>\n            <option value=\"jpn\">Japanese</option>\n            <option value=\"hin\">Hindi</option>\n          </select>\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"date\">Date</label>\n          <input\n            className=\"form-input\"\n            type=\"date\"\n            id=\"date\"\n            name=\"date\"\n            value={values.date}\n            onChange={handleInputChange}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"url\">Video URL</label>\n          <input\n            className=\"form-input\"\n            type=\"url\"\n            id=\"url\"\n            name=\"url\"\n            value={values.url}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"name\">Name</label>\n          <input\n            className=\"form-input\"\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={values.name}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"email\">Email</label>\n          <input\n            className=\"form-input\"\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            value={values.email}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"link\">Link</label>\n          <input\n            className=\"form-input\"\n            type=\"url\"\n            id=\"link\"\n            name=\"link\"\n            value={values.link}\n            onChange={handleInputChange}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label className=\"form-label\" htmlFor=\"description\">Description</label>\n          <textarea\n            className=\"form-input form-textarea\"\n            id=\"description\"\n            name=\"description\"\n            value={values.description}\n            onChange={handleInputChange}\n            rows=\"4\"\n          />\n        </div>\n\n        <button type=\"submit\" className=\"form-button\">\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n"],"names":["initialValues","title","subtitle","persons","tags","conference","language","date","Date","toISOString","split","url","name","email","link","description","Form","values","setValues","useState","err","setErr","message","success","setSuccess","conferences","setConferences","handleInputChange","e","value","target","_objectSpread","useEffect","async","res","fetch","concat","process","REACT_APP_VOCTOWEB_API_URL","headers","resJson","json","length","prevValues","acronym","console","log","getConferences","_jsxs","className","children","_jsx","src","alt","onSubmit","event","preventDefault","REACT_APP_API_URL","method","body","JSON","stringify","status","data","setTimeout","htmlFor","type","id","onChange","required","map","person","index","onClick","newPersons","filter","_","i","placeholder","onKeyDown","key","trim","includes","tag","newTags","_ref","rows"],"sourceRoot":""}