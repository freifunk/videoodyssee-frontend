{"version":3,"file":"static/js/12.6630b685.chunk.js","mappings":"sLAEA,MAAMA,EAAgB,CAClBC,MAAO,GACPC,SAAU,IAgGd,EA7FkBC,KACd,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAASN,IAC9BO,EAAKC,IAAUF,EAAAA,EAAAA,UAAS,CAAEC,KAAK,EAAOE,QAAS,MAC/CC,EAASC,IAAcL,EAAAA,EAAAA,UAAS,CAAEI,SAAS,EAAOD,QAAS,KAE5DG,EAAqBC,IACvB,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAC1BX,GAASY,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACJb,GAAM,IACT,CAACU,GAAOC,MAgChB,OACIG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,OAAKC,IAAI,qCAAqCC,IAAI,gBAAgBJ,UAAU,UAC5EE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,aAAYC,SAAC,UAE1BV,EAAQA,UACLW,EAAAA,EAAAA,KAAA,OAAKF,UAAU,sBAAqBC,SAC/BV,EAAQD,UAIhBF,EAAIA,MACDc,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,SAC7Bb,EAAIE,WAIbS,EAAAA,EAAAA,MAAA,QAAMM,SA7COC,UACjBC,EAAMC,iBACN,IACI,IAAIC,QAAYC,MAAM,GAADC,OAAIC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,kBAAiB,eAAe,CACjEC,QAAS,CACL,OAAU,mBACV,eAAgB,oBAEpBC,OAAQ,OACRC,KAAMC,KAAKC,UAAUjC,KAErBkC,QAAgBV,EAAIW,OACxBC,QAAQC,IAAIH,GACO,MAAfV,EAAIc,QACJ/B,EAAW,CAAED,SAAS,EAAMD,QAAS,iCACrCkC,aAAaC,QAAQ,UAAWN,EAAQO,MACxCC,OAAOC,SAASC,KAAO,eAEvBxC,EAAO,CAAED,KAAK,EAAME,QAAS6B,EAAQ7B,UACrCwC,WAAW,IAAMzC,EAAO,CAAED,KAAK,EAAOE,QAAS,KAAO,KAE9D,CAAE,MAAOF,GACLiC,QAAQC,IAAIlC,GACZC,EAAO,CAAED,KAAK,EAAME,QAAS,gCAC7BwC,WAAW,IAAMzC,EAAO,CAAED,KAAK,EAAOE,QAAS,KAAO,IAC1D,GAoBiCW,SAAA,EACzBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAa+B,QAAQ,QAAO9B,SAAC,WAC9CC,EAAAA,EAAAA,KAAA,SACIF,UAAU,aACVgC,KAAK,QACLC,GAAG,QACHtC,KAAK,QACLC,MAAOX,EAAOH,MACdoD,SAAUzC,EACV0C,UAAQ,QAIhBpC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,SAAOF,UAAU,aAAa+B,QAAQ,WAAU9B,SAAC,cACjDC,EAAAA,EAAAA,KAAA,SACIF,UAAU,aACVgC,KAAK,WACLC,GAAG,WACHtC,KAAK,WACLC,MAAOX,EAAOF,SACdmD,SAAUzC,EACV0C,UAAQ,QAIhBjC,EAAAA,EAAAA,KAAA,UAAQ8B,KAAK,SAAShC,UAAU,cAAaC,SAAC,gB","sources":["content/applications/LoginForm/index.js"],"sourcesContent":["import { useState } from 'react';\n\nconst initialValues = {\n    email: \"\",\n    password: \"\",\n};\n\nconst LoginForm = () => {\n    const [values, setValues] = useState(initialValues);\n    const [err, setErr] = useState({ err: false, message: '' });\n    const [success, setSuccess] = useState({ success: false, message: '' });\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setValues({\n            ...values,\n            [name]: value,\n        });\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            let res = await fetch(`${process.env.REACT_APP_API_URL}/auth/login`, {\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                method: \"POST\",\n                body: JSON.stringify(values),\n            });\n            let resJson = await res.json();\n            console.log(resJson);\n            if (res.status === 200) {\n                setSuccess({ success: true, message: \"Authentication Successful !!\" });\n                localStorage.setItem('x-token', resJson.data);\n                window.location.href = \"/dashboard\";\n            } else {\n                setErr({ err: true, message: resJson.message });\n                setTimeout(() => setErr({ err: false, message: '' }), 5000);\n            }\n        } catch (err) {\n            console.log(err);\n            setErr({ err: true, message: 'Ein Fehler ist aufgetreten.' });\n            setTimeout(() => setErr({ err: false, message: '' }), 5000);\n        }\n    };\n\n    return (\n        <div className=\"form-container\">\n            <img src=\"/static/images/logo/logo-small.png\" alt='Freifunk logo' className=\"logo\" />\n            <h2 className=\"form-title\">Login</h2>\n            \n            {success.success && (\n                <div className=\"alert alert-success\">\n                    {success.message}\n                </div>\n            )}\n            \n            {err.err && (\n                <div className=\"alert alert-error\">\n                    {err.message}\n                </div>\n            )}\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                    <label className=\"form-label\" htmlFor=\"email\">Email</label>\n                    <input\n                        className=\"form-input\"\n                        type=\"email\"\n                        id=\"email\"\n                        name=\"email\"\n                        value={values.email}\n                        onChange={handleInputChange}\n                        required\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label className=\"form-label\" htmlFor=\"password\">Password</label>\n                    <input\n                        className=\"form-input\"\n                        type=\"password\"\n                        id=\"password\"\n                        name=\"password\"\n                        value={values.password}\n                        onChange={handleInputChange}\n                        required\n                    />\n                </div>\n\n                <button type=\"submit\" className=\"form-button\">\n                    Login\n                </button>\n            </form>\n        </div>\n    );\n};\n\nexport default LoginForm;\n"],"names":["initialValues","email","password","LoginForm","values","setValues","useState","err","setErr","message","success","setSuccess","handleInputChange","e","name","value","target","_objectSpread","_jsxs","className","children","_jsx","src","alt","onSubmit","async","event","preventDefault","res","fetch","concat","process","REACT_APP_API_URL","headers","method","body","JSON","stringify","resJson","json","console","log","status","localStorage","setItem","data","window","location","href","setTimeout","htmlFor","type","id","onChange","required"],"sourceRoot":""}