"use strict";(self.webpackChunkvideoodyssee_frontend=self.webpackChunkvideoodyssee_frontend||[]).push([[977],{3977:function(e,n,s){s.r(n),s.d(n,{default:function(){return g}});var t=s(8214),r=s(5861),a=s(4942),i=s(1413),o=s(885),c=s(1889),l=s(5646),u=s(4070),d=s(703),h=s(8096),p=s(7391),f=s(6151),v=s(2791),m=s(184),x={email:"",password:""},g=function(){var e=(0,v.useState)(x),n=(0,o.Z)(e,2),s=n[0],g=n[1],Z=(0,v.useState)({err:!1,message:""}),j=(0,o.Z)(Z,2),S=j[0],C=j[1],_=(0,v.useState)({success:!1,message:""}),w=(0,o.Z)(_,2),b=w[0],y=w[1],O=function(e){var n=e.target,t=n.name,r=n.value;g((0,i.Z)((0,i.Z)({},s),{},(0,a.Z)({},t,r)))},T=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/auth/login"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(s)});case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,console.log(a),200===r.status?(y({success:!0,message:"Authentication Successful !!"}),localStorage.setItem("x-token",a.data),window.location.href="/dashboard"):C({err:!0,message:a.message}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(c.ZP,{children:[(0,m.jsx)(l.Z,{open:b.success,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:function(){return y({success:!1})},children:(0,m.jsx)(u.Z,{onClose:function(){return y({success:!1})},severity:"success",sx:{width:"100%"},children:b.message})}),(0,m.jsx)(l.Z,{open:S.err,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:function(){return C({err:!1})},children:(0,m.jsx)(u.Z,{onClose:function(){return C({err:!1})},severity:"error",sx:{width:"100%"},children:S.message})}),(0,m.jsxs)(d.Z,{elevation:10,className:"paper",children:[(0,m.jsx)("h2",{align:"center",children:"Login"}),(0,m.jsx)("p",{children:(0,m.jsx)(h.Z,{fullWidth:!0,children:(0,m.jsx)(p.Z,{value:s.email,type:"email",name:"email",onChange:O,id:"outlined-basic",label:"Email",variant:"outlined",size:"small",autoFocus:!0})})}),(0,m.jsx)("p",{children:(0,m.jsx)(h.Z,{fullWidth:!0,children:(0,m.jsx)(p.Z,{value:s.password,type:"password",name:"password",onChange:O,id:"outlined-basic",label:"Password",variant:"outlined",size:"small"})})}),(0,m.jsx)(h.Z,{fullWidth:!0,children:(0,m.jsx)(f.Z,{variant:"contained",onClick:T,children:"Submit"})})]})]})}}}]);
//# sourceMappingURL=977.d1f752f3.chunk.js.map