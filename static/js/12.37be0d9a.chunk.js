"use strict";(self.webpackChunkvideoodyssee_frontend=self.webpackChunkvideoodyssee_frontend||[]).push([[12],{12:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var o=a(555),t=a(43),r=a(579);const l={email:"",password:""},i=()=>{const[e,s]=(0,t.useState)(l),[a,i]=(0,t.useState)({err:!1,message:""}),[n,c]=(0,t.useState)({success:!1,message:""}),m=a=>{const{name:t,value:r}=a.target;s((0,o.A)((0,o.A)({},e),{},{[t]:r}))};return(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsx)("img",{src:"/static/images/logo/logo-small.png",alt:"Freifunk logo",className:"logo"}),(0,r.jsx)("h2",{className:"form-title",children:"Login"}),n.success&&(0,r.jsx)("div",{className:"alert alert-success",children:n.message}),a.err&&(0,r.jsx)("div",{className:"alert alert-error",children:a.message}),(0,r.jsxs)("form",{onSubmit:async s=>{s.preventDefault();try{let s=await fetch("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,"/auth/login"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}),a=await s.json();console.log(a),200===s.status?(c({success:!0,message:"Authentication Successful !!"}),localStorage.setItem("x-token",a.data),window.location.href="/dashboard"):(i({err:!0,message:a.message}),setTimeout(()=>i({err:!1,message:""}),5e3))}catch(a){console.log(a),i({err:!0,message:"Ein Fehler ist aufgetreten."}),setTimeout(()=>i({err:!1,message:""}),5e3)}},children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{className:"form-input",type:"email",id:"email",name:"email",value:e.email,onChange:m,required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),(0,r.jsx)("input",{className:"form-input",type:"password",id:"password",name:"password",value:e.password,onChange:m,required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"form-button",children:"Login"})]})]})}}}]);
//# sourceMappingURL=12.37be0d9a.chunk.js.map